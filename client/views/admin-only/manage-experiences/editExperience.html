<template name="editExperience">
  <div class="in-progress-experience section">
    <header>
      <h3>Edit Experience</h3>
    </header>

    <div class="row">
      <!-- Photo -->
      <div class="col-md-4">
        <legend>Photo</legend>
        <img class="img-responsive" src="{{photoUrl}}/convert?w=278&fit=scale&cache=true" />
        <em>{{photoName}} {{#if photoSize}}({{photoSizeFriendly}}){{/if}}</em>
        <div >
          <button class="btn btn-default btn-change-photo">Change Photo</button>
        </div>
        <legend>Tags</legend>
        {{> tagInput}}
      </div>

      <!-- edit -->
      <div class="col-md-8">
        {{#autoForm collection=experiences doc=this id=this._id type="update"}}
          <div class="row">
            <div class="col-md-4">
              <legend>Experience Details</legend>
              {{> afQuickField name="category" firstOption="--Select a Category--" options=categoryOptions}}
              {{> afQuickField name='sortOrder'}}
              {{> afQuickField name='active'}}
              {{> afQuickField name='title'}}
              {{> afQuickField name='lead'}}
              {{> afQuickField name='description' rows="4"}}
              {{> afQuickField name='website'}}
            </div>
            <div class="col-md-4">
              <legend>Venue Info</legend>
              {{> afQuickField name='venueName'}}

              <div class="form-group">
                <label class="control-label" for="venueName">Address Search</label>
                <input type="text" name="address" class="form-control" >
              </div>      
<pre>({{geo.latitude}}, {{geo.longitude}})
{{geo.streetNumber}} {{geo.streetName}}
{{geo.city}} {{geo.state}} ({{geo.stateCode}}), {{geo.zipcode}}
{{geo.country}} ({{geo.countryCode}})</pre>    
              <!-- {{> afQuickField name='street'}}
              {{> afQuickField name='city'}}
              {{> afQuickField name='state'}}
              {{> afQuickField name='zip'}} -->
              {{> afQuickField name='phone'}} 
            </div>
            <div class="col-md-4">
              <legend>Order Info</legend>
              {{> afQuickField name="callToAction" firstOption="--Select a call to action--" options=callToActionOptions}}

              <div class="reservationOptions hidden">
                {{> afQuickField name='maxPartySize'}}
                {{> afQuickField name='reservationStartTime' class='timepicker'}}
                {{> afQuickField name='reservationEndTime' class='timepicker'}}
                {{> afFieldInput name="reservationStartMinutes" type="hidden"}}
                {{> afFieldInput name="reservationEndMinutes" type="hidden"}}
              </div>

              <div class="purchaseOptions hidden">
                {{> afQuickField name='price'}}
              </div>

            </div>
          </div>
          <div class="row">
            <div class="col-md-offset-6 col-md-6">
              <button type="reset" class="btn btn-default pull-right">Reset</button>
              &nbsp;
              <button type="submit" class="btn btn-primary pull-right update">Update Experience Details</button>
            </div>
          </div>
        {{/autoForm}}
      </div>
    </div>
    <hr class="soften" />
    <div class="row">
      <!-- delete -->
      <div class="col-xs-12">
        {{#afDeleteButton collection=experiences doc=this class="pull-right"}}
          <i class="fa fa-trash-o"></i> Delete
        {{/afDeleteButton}}
      </div>
    </div>
  </div>
</template>

<template name="geocodeInfo">
[ 
  { 
    latitude: 40.7842202,
    longitude: -73.9523748,
    country: 'United States',
    city: 'New York',
    state: 'New York',
    stateCode: 'NY',
    zipcode: '10128',
    streetName: 'Lexington Avenue',
    streetNumber: '1428',
    countryCode: 'US' 
  } 
]
</template>